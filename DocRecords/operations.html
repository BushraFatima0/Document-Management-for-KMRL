<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HR Records - KMRL DocRecords</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Layout */
    .page-container {
      display: flex;
      padding: 2rem;
      gap: 2rem;
    }

    .sidebar {
      width: 250px;
      background: #ffffff;
      border-radius: 0.6rem;
      padding: 1.5rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      height: fit-content;
      position: sticky;
      top: 80px;
    }

    .sidebar h3 {
      margin-bottom: 1rem;
      color: #1e293b;
    }

    .sidebar input,
    .sidebar select {
      width: 100%;
      padding: 0.6rem;
      margin-bottom: 1rem;
      border: 1px solid #cbd5e1;
      border-radius: 0.4rem;
    }

    .content {
      flex: 1;
      background: #ffffff;
      padding: 1.5rem;
      border-radius: 0.6rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      overflow-x: auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      border: 1px solid #cbd5e1;
      padding: 0.8rem;
      text-align: left;
    }

    th {
      background: #f1f5f9;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <div class="navbar">
    <a href="index.html">KMRL DocRecords</a>
  </div>

  <!-- Hero -->
  <div class="hero">
    <h1>Operation Records</h1>
    <p>Search, filter, and manage Operation Records</p>
  </div>

  <!-- Two-column layout -->
  <div class="page-container">
    <!-- Sidebar -->
    <div class="sidebar">
      <h3>Filters & Sort</h3>

      <input type="text" id="search" placeholder="Search documents...">

      <select id="filter">
        <option value="">Filter by</option>
        <option value="year">Year</option>
        <option value="trainId">Train ID</option>
        <option value="location">Location</option>
      </select>

      <select id="sort">
        <option value="">Sort by</option>
        <option value="name">Name</option>
        <option value="uploadDate">Upload Date</option>
        <option value="year">Year</option>
        <option value="month">Month</option>
        <option value="trainId">Train ID</option>
        <option value="location">Location</option>
      </select>
    </div>

    <!-- Content (Table) -->
    <div class="content">
      <table id="docTable">
        <thead>
          <tr>
            <th>Name</th>
            <th>Upload Date</th>
            <th>Year</th>
            <th>Month</th>
            <th>Train ID</th>
            <th>Location</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Employee Handbook</td>
            <td>2025-02-10</td>
            <td>2025</td>
            <td>February</td>
            <td>T123</td>
            <td>Kochi Depot</td>
          </tr>
          <tr>
            <td>Attendance Sheet Jan</td>
            <td>2025-01-31</td>
            <td>2025</td>
            <td>January</td>
            <td>T115</td>
            <td>Station A</td>
          </tr>
          <tr>
            <td>Leave Policy</td>
            <td>2024-12-15</td>
            <td>2024</td>
            <td>December</td>
            <td>T110</td>
            <td>Station B</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Script -->
  <script>
    const searchInput = document.getElementById('search');
    const filterSelect = document.getElementById('filter');
    const sortSelect = document.getElementById('sort');
    const table = document.getElementById('docTable').getElementsByTagName('tbody')[0];

    function applyFilters() {
      const search = searchInput.value.toLowerCase();
      const filterType = filterSelect.value;

      Array.from(table.rows).forEach(row => {
        const name = row.cells[0].innerText.toLowerCase();
        const year = row.cells[2].innerText.toLowerCase();
        const trainId = row.cells[4].innerText.toLowerCase();
        const location = row.cells[5].innerText.toLowerCase();

        let matchesFilter = true;
        if (filterType === "year") {
          matchesFilter = year === "2025"; // Example filter logic
        } else if (filterType === "trainId") {
          matchesFilter = trainId.includes("t123");
        } else if (filterType === "location") {
          matchesFilter = location.includes("kochi");
        }

        const matchesSearch = name.includes(search);
        row.style.display = matchesSearch && matchesFilter ? "" : "none";
      });
    }

    searchInput.addEventListener('input', applyFilters);
    filterSelect.addEventListener('change', applyFilters);

    // Sorting
    sortSelect.addEventListener('change', () => {
      const columnMap = { name: 0, uploadDate: 1, year: 2, month: 3, trainId: 4, location: 5 };
      const colIndex = columnMap[sortSelect.value];
      if (colIndex === undefined) return;

      const rows = Array.from(table.rows);
      rows.sort((a, b) => a.cells[colIndex].innerText.localeCompare(b.cells[colIndex].innerText));
      rows.forEach(row => table.appendChild(row));
    });
  </script>
</body>
</html>